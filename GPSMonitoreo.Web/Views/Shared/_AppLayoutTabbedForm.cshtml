@model GPSMonitoreo.Web.ViewModels.AppLayoutForm
@{ 
	//public var xx = "afdddasf";

	//var urlArr = Context.Request.Path.Value.Split('/');
	//var postUrl = string.Join("/", urlArr.Take(urlArr.Length - (Model.UrlIndludesId ? 2 : 1))) + "/save";
	IgnoreBody();

	var formModel = new GPSMonitoreo.Web.ViewComponents.Models.CommonFormModel() { FormId = Model.FormId, Action = Model.PostUrl };


}
<div class="panel_input">
	<div class="header layout_header">
		<span class="layout_title">@Model.Title</span><span class="layout_subtitle"></span>
	</div>
	<div class="body">
		<div>
			<ul>
				<li>Principal</li>
				 @RenderSection("tabtitles", false)
			</ul>
			<div style="padding:5px">
				@await Component.InvokeAsync(typeof(GPSMonitoreo.Web.ViewComponents.CommonForm2), new { model = formModel })
				<br/><br/>
			</div>
			@RenderSection("tabs", false)
		</div>
	</div>
	<div class="footer">
		<button type="button">Guardar</button>
		<div class="input_error"></div>
	</div>
</div>
<script script-manager-render="tabbed_layout_form">
//App.hookTab('@Context.Request.Path.Value', function($container, tabIndex, tabs){
App.hookLayout('@Model.Url', function(layout){
	layout.editDataUrl = '@Model.EditDataUrl';
	layout.options = {
		formId	: '@Model.FormId'

	};

	//console.log(layout);

	//script-manager["manager:commonform"]



	@*//var tabInitialized = function(tab){};

	var layout = new AppTabbedLayoutForm({
		$container	: $container,
		formId		: '@Model.FormId' 
	});

	layout.initForm();
	window.layout = layout;

	$container.layout = layout;

	

	



	

	layout.initTabs();*@

});
	

</script>